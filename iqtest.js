// Placeholder Questions (Edit these later)
const questions = [
    {
        image: `IQ TEST QUESTIONS/Q1.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q1OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q1OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q1OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q1OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q2.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q2OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q2OPTION2CORRECT.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q2OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q2OPTION4.png`
        ],
        correct: 2 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q3.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q3OPTION1CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q3OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q3OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q3OPTION4.png`
        ],
        correct: 1 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q4.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q4OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q4OPTION2CORRECT.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q4OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q4OPTION4.png`
        ],
        correct: 2 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q5.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q5OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q5OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q5OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q5OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q6.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q6OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q6OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q6OPTION3CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q6OPTION4.png`
        ],
        correct: 3 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q7.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q7OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q7OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q7OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q7OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q8.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q8OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q8OPTION2CORRECT.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q8OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q8OPTION4.png`
        ],
        correct: 2 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q9.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q9OPTION1CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q9OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q9OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q9OPTION4.png`
        ],
        correct: 1 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q10.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q10OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q10OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q10OPTION3CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q10OPTION4.png`
        ],
        correct: 3 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q11.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q11OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q11OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q11OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q11OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q12.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q12OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q12OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q12OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q12OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q13.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q13OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q13OPTION2CORRECT.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q13OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q13OPTION4.png`
        ],
        correct: 2 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q14.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q14OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q14OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q14OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q14OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q15.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q15OPTION1CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q15OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q15OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q15OPTION4.png`
        ],
        correct: 1 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q16.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q16OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q16OPTION2CORRECT.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q16OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q16OPTION4.png`
        ],
        correct: 2 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q17.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q17OPTION1CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q17OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q17OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q17OPTION4.png`
        ],
        correct: 1 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q18.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q18OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q18OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q18OPTION3CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q18OPTION4.png`
        ],
        correct: 3 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q19.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q19OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q19OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q19OPTION3CORRECT.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q19OPTION4.png`
        ],
        correct: 3 // Placeholder correct answer
    },
    {
        image: `IQ TEST QUESTIONS/Q20.png`, // Replace with actual image paths
        options: [
            `IQ TEST QUESTIONS/OPTIONS/Q20OPTION1.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q20OPTION2.png`, 
            `IQ TEST QUESTIONS/OPTIONS/Q20OPTION3.png`,
            `IQ TEST QUESTIONS/OPTIONS/Q20OPTION4CORRECT.png`
        ],
        correct: 4 // Placeholder correct answer
    },
];
let currentIndex = 0;
let selectedAnswers = [];
let timerSeconds = 900; // 15 minutes

const questionImage = document.getElementById("question-image");
const optionsContainer = document.getElementById("options-container");
const nextButton = document.getElementById("next-btn");
const timerDisplay = document.getElementById("timer");

// Load Question
function loadQuestion(index) {
    const question = questions[index];
    questionImage.src = question.image;
    optionsContainer.innerHTML = "";

    question.options.forEach((option, i) => {
        const optionElement = document.createElement("img");
        optionElement.src = option;
        optionElement.classList.add("option");
        optionElement.onclick = () => selectAnswer(index, i);
        optionsContainer.appendChild(optionElement);
    });

    updateButton();
}

// Select Answer
function selectAnswer(questionIndex, answerIndex) {
    selectedAnswers[questionIndex] = answerIndex;
    document.querySelectorAll(".option").forEach((option, i) => {
        option.style.border = i === answerIndex ? "3px solid #004D40" : "2px solid #ddd";
    });
    nextButton.disabled = false; // Enable the Next button when an answer is selected
}

// Update Button
function updateButton() {
    nextButton.textContent = currentIndex === questions.length - 1 ? "Submit" : "Next ›";
    nextButton.disabled = true; // Disable the Next button initially
}

// Change Question
function changeQuestion() {
    if (currentIndex === questions.length - 1) {
        submitTest();
        return;
    }
    currentIndex++;
    loadQuestion(currentIndex);
}

// Timer
function startTimer() {
    const timerInterval = setInterval(() => {
        if (timerSeconds <= 0) {
            clearInterval(timerInterval);
            submitTest();
        } else {
            timerSeconds--;
            let minutes = Math.floor(timerSeconds / 60);
            let seconds = timerSeconds % 60;
            timerDisplay.textContent = `⏳ ${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
        }
    }, 1000);
}

// Submit Test
function submitTest() {
    console.log("Selected Answers:", selectedAnswers); // Log selected answers
    let score = selectedAnswers.filter((ans, i) => ans === questions[i].correct).length;
    console.log("Score:", score); // Log the score

    // Save the score for the results page
    localStorage.setItem("finalScore", score);
    
    // Redirect to results page
    window.location.href = "result.html";
}

// Button Event
nextButton.onclick = changeQuestion;

// Start Test
loadQuestion(0);
startTimer();